(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{3554:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",[n("div",{staticClass:"row items-center justify-evenly"},[n("h3",[t._v("Product List")])]),n("product-subscriber",{attrs:{id:t.id}})],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"signalr-demo col-sm"},[n("hr"),n("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit}},[n("div",[n("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}})],1)])],1)]),t._l(t.state,(function(e){return n("div",{key:e.id,staticClass:"row"},[n("div",{staticClass:"col-sm"},[n("hr"),n("div",[n("div",{staticStyle:{display:"inline-block","padding-left":"12px"}},[n("div",[n("span",{staticClass:"text-info small"},[n("strong",[t._v(t._s(e.timestamp))])])]),n("div",[t._v("\n            "+t._s(e.id)+"\n          ")])])])])])}))],2)},r=[],a=n("e4fd"),c=n("1732"),u=n("888e"),l=n("a639");function d(){console.log("useProductListStore");const t=t=>{const e=l["a"].getItem(t);return e||[]},e=t=>new Promise(e=>{setTimeout(()=>{const n=[{id:Object(c["a"])(),timestamp:Date.now()},{id:Object(c["a"])(),timestamp:Date.now()}];l["a"].set(t,n),e(n)},1e3)}),n=Object(u["a"])(t,{asyncState:e,useRefreshEvent:"ProductRefreshEvent"});return Object.assign({},n)}var m=d,b=function(t,e,n,s){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function r(t){try{c(s.next(t))}catch(e){o(e)}}function a(t){try{c(s["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(r,a)}c((s=s.apply(t,e||[])).next())}))},f=Object(a["defineComponent"])({props:{id:{type:String,default:""}},setup(t){const{subscribe:e,refresh:n}=m(),s=e(t.id),i=s.valueTask.state;Object(a["onBeforeUnmount"])(()=>{s.unSubscribe()});const o=()=>{console.log("onSubmit"),i.value.unshift({id:Object(c["a"])(),timestamp:Date.now()}),i.value[1].id=Object(c["a"])()};return s.refreshEvent&&Object(a["watch"])(s.refreshEvent,t=>b(this,void 0,void 0,(function*(){yield n(t.id)}))),{state:i,onSubmit:o}}}),p=f,v=n("2877"),h=n("0378"),w=n("9c40"),y=n("eebe"),j=n.n(y),O=Object(v["a"])(p,o,r,!1,null,null,null),g=O.exports;j()(O,"components",{QForm:h["a"],QBtn:w["a"]});var S=Object(a["defineComponent"])({name:"Product",components:{ProductSubscriber:g},setup(){return{id:"product-query"}}}),_=S,C=n("9989"),P=Object(v["a"])(_,s,i,!1,null,null,null);e["default"]=P.exports;j()(P,"components",{QPage:C["a"]})}}]);